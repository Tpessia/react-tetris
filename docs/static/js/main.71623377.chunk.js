(this.webpackJsonptetris=this.webpackJsonptetris||[]).push([[0],{31:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfkARQCKg2xRH63AAAAoUlEQVRo3u2ZQQ6DIBBFP4ZwDTZ6E3vq9iZ24zXY2G3jQAI2hCa+5+4zmXluiBmlo+HZVMPW0nOqatkRBBBAYLiA02Gyh/ZCdSqefBMViidPG9rbaen2ugs3IQIIIIDAHwp4vU2Wuk1LmWkAAAAAt8dllo9r1RbgClGvc+Q1m7JQ1ewKwU4b/lWMAAIIIICAz2SxWP37sjoDv+0QQACBwXwA0357v8yyHDMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMDEtMjBUMDI6NDI6MTMrMDA6MDAmcHqaAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIwLTAxLTIwVDAyOjQyOjEzKzAwOjAwVy3CJgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII="},32:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfkARQCIjbIlh2bAAACAUlEQVRo3t3ZPUiVURzH8W+KqWSDYkOQgoOFBFmDi9DQ3FDh7CS4SUsgbtGgEq4Sbs631gZ1LKrFoRe0FMHJl4byBb1q4q9BEH3uS89zznnOH/o/03248Ptw7r38znMPlE4Lr9jggAVe0kH0qWcenV1HTHAlLmDoXPzptURvTMC7EoA4Zoz6WICdMgAhPtMdI76uQrwQh4xQmzegoQpAiE/csgWIfYapsQQIMUebLUBsM2gLEOIt120B4idPbAFCFGixBYg1HtoCxAlTNFkChFjhvi1AHDPuX1k+ACG+cs8WII547lNZ/gAhPnLTFuBRWaEAQsy6VFZIgNjKXllhAUK84ZotQGzy2BYgRIFmW4BYpssWILa4YwsQS1xNBua4vy0znQzYAqA/eeNS4nUDxVwB+zQhyxVQ8kZswPckITZg+l9vyPdnuFj6b0vMFfhFH3t2K/Aj3S7pvyyjDR6l/5zCAwq0ZvmihAX8tt2SzXAja3w4wB5PS3omIuADnS7hYQBFhi0fzb5w1z3cF/CHcS77xfsAFujxDXcHnDAV6lTBBbDKgzDhboDUNZMHIFPNhAe8zlYzYQEOT/4hAU41EwrgXDNhAB41k26qHVoVeRZjF71bIX6e2/mHA7wvWzMvqIsTX+7odjFMzaSdi4fXh4zSGDMeoJlJ1jngG2O05x32FwFnC1tXykf6AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIwLTAxLTIwVDAyOjM0OjU0KzAwOjAwQ7gvKgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMC0wMS0yMFQwMjozNDo1NCswMDowMDLll5YAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC"},33:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfkARQCIhljRyDCAAACOElEQVRo3sXZP09TURjH8W+XchvhHUCVwogJrwDjYurCYuKgC4SEhFfAC+A1KEyIrg7GqHE0caPWGOLG2IFAE/4sBAKYy9LAve3595x7zvF0633y/D69/5qcB+bocspb6oRfa/Tps2Qu+kVOTs6XwISMnUHnayZNhaeDsrCEJt27vjnPTKWbhcJQhAUOC11z2qbiOp8Lpd/JKsevclWKtwDCEjLeDYU7AMIRpugo4h0AYQhPOFLGOwGqE1a51sQ7AqoQMt5rwwUAX0L5ma8E8CG0ObbEiwAyQo11bqzxQoA7YZyPDuEeADfCLH8d4z0AdsJzTpzjvQBmwiv+CeI9ASbCA37EBkyzwSd+ltoU/6xlBDHgJRfKRr4EIeAh59pWfhdCCNg0NvM5C0LArqWdnCAE7FsbSi9EcICUEAEgI0QBSAiRAO6EaABXQkSAGyEqwIUQGWAnRAfYCAkAZkISgImQCKAnJAPoCAkBakJSgIqQGDBKSA4oEyaYlgH2AgAq7bjtBAFUIMyPbLMlJ7zmMhWhpvl+hhXmaCiOtGiJfsxXXnDldx7Uy7YhZX4iAi3Tllwign5TMhlh6m7S8N8ImfCNEYGg2ppPTlgQ3Q1RCI/4Y4nthXg7mpZ6THH/WQw+lVEs093QjjAYUqzhUVUREGM2pViTxpFNEkLGthaQiGAe2yUiPKWvAcAY3wpH3sQBQJPfhZjy6LZIOIkFgAYfBiE3I8Pre0InHgBgjQN6LCuOjLHFGV0e3wJRUWQVnGGPEAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0wMS0yMFQwMjozNDoyNSswMDowMO8KLYcAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMDEtMjBUMDI6MzQ6MjUrMDA6MDCeV5U7AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg=="},37:function(t,e,n){t.exports=n(53)},42:function(t,e,n){},43:function(t,e,n){},48:function(t,e,n){},51:function(t,e,n){t.exports=n.p+"static/media/tetris.d9319dac.mp3"},52:function(t,e,n){},53:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),i=n(23),o=n.n(i),c=(n(42),n(7)),l=(n(43),n(20)),u=n(1),h=n(12),s=n(24),d=n(25),A=n.n(d),p=n(55),f=n(13);function b(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}var v=n(6),g=n(9),x=n(8),j=n(10),O=n(26),y={container:{width:-1,height:-1},canvas:{width:-1,height:-1,backgroundColor:"transparent",patternBG:"#44444433",patternInnerBG:"#55555533",patternStroke:"#11111133",patternWidth:1,gridWidth:15,gridHeight:17},pixel:{offset:-1,widthT:-1,heightT:-1,width:10,height:10,backgroundColor:"#BBB",strokeColor:"#555",strokeWidth:3}};y.pixel.offset=y.pixel.strokeWidth/2,y.pixel.widthT=y.pixel.width+y.pixel.strokeWidth,y.pixel.heightT=y.pixel.height+y.pixel.strokeWidth,y.canvas.width=y.pixel.widthT*y.canvas.gridWidth,y.canvas.height=y.pixel.heightT*y.canvas.gridHeight,y.container.width=y.canvas.width,y.container.height=y.canvas.height;var m,w,E=y;!function(t){t.ShapeLeftL="ShapeLeftL",t.ShapeRightL="ShapeRightL",t.ShapeLeftS="ShapeLeftS",t.ShapeRightS="ShapeRightS",t.ShapeLine="ShapeLine",t.ShapeSquare="ShapeSquare",t.ShapeT="ShapeT"}(m||(m={})),function(t){t[t.Up=0]="Up",t[t.Right=1]="Right",t[t.Bottom=2]="Bottom",t[t.Left=3]="Left"}(w||(w={}));var S=Object.values(w).filter((function(t){return"number"===typeof t})),k=function(){function t(e){Object(v.a)(this,t),this.rotationShapes=void 0,this.type=void 0,this.nested=void 0,this.pixels=[],this.rotation=0,this.offset=E.pixel.offset,this.strokeWidth=E.pixel.strokeWidth,this.strokeColor=E.pixel.strokeColor,this.width=E.pixel.width,this.height=E.pixel.height,this.widthT=E.pixel.widthT,this.heightT=E.pixel.heightT,this.offsetX=this.width+this.strokeWidth,this.offsetY=this.height+this.strokeWidth,this.nested=e.nested()}return Object(O.a)(t,[{key:"render",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];for(var r in t)for(var a in t[r]){var i=t[r][a];if(0!==i){var o=e?this.nested.rect(this.width,this.height):this.pixels[i-1];o=o.x(+a*this.offsetX+this.offset).y(+r*this.offsetY+this.offset),n.push(o)}}return n}},{key:"build",value:function(){return this.rotation=S[b(0,S.length-1)],this.pixels=this.render(this.rotationShapes[this.rotation],!0),this.nested.fill(E.pixel.backgroundColor).stroke({width:this.strokeWidth,color:this.strokeColor}),this}},{key:"rotate",value:function(){this.rotation=this.rotation===w.Left?w.Up:this.rotation+1,this.pixels=this.render(this.rotationShapes[this.rotation])}},{key:"widthGap",get:function(){var t=this.rotationShapes[this.rotation],e=0;for(var n in t[0]){var r=!1;for(var a in t)0!==t[a][n]&&(r=!0);r||e++}return e}},{key:"widthStartGap",get:function(){var t=this.rotationShapes[this.rotation],e=0;for(var n in t[0]){var r=!1;for(var a in t)0!==t[a][n]&&(r=!0);if(r)break;e++}return e}},{key:"heightGap",get:function(){var t=this.rotationShapes[this.rotation],e=0;for(var n in t){var r=!1;for(var a in t[0])0!==t[n][a]&&(r=!0);r||e++}return e}},{key:"heightStartGap",get:function(){var t=this.rotationShapes[this.rotation],e=0;for(var n in t){var r=!1;for(var a in t[0])0!==t[n][a]&&(r=!0);if(r)break;e++}return e}},{key:"realWidth",get:function(){return this.nested.bbox().width+this.widthGap*this.widthT}},{key:"realStartWidth",get:function(){return this.nested.bbox().width+this.widthStartGap*this.widthT}},{key:"realHeight",get:function(){return this.nested.bbox().height+this.heightGap*this.heightT}},{key:"realStartHeight",get:function(){return this.nested.bbox().height+this.heightStartGap*this.heightT}}]),t}(),C=function(t){function e(){var t,n,r;Object(v.a)(this,e);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(r=Object(g.a)(this,(t=Object(x.a)(e)).call.apply(t,[this].concat(i)))).type=m.ShapeLeftL,r.rotationShapes=(n={},Object(u.a)(n,w.Up,[[0,4,0],[0,3,0],[1,2,0]]),Object(u.a)(n,w.Right,[[1,0,0],[2,3,4],[0,0,0]]),Object(u.a)(n,w.Bottom,[[0,2,1],[0,3,0],[0,4,0]]),Object(u.a)(n,w.Left,[[0,0,0],[4,3,2],[0,0,1]]),n),r}return Object(j.a)(e,t),e}(k),B=function(t){function e(){var t,n,r;Object(v.a)(this,e);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(r=Object(g.a)(this,(t=Object(x.a)(e)).call.apply(t,[this].concat(i)))).type=m.ShapeLeftS,r.rotationShapes=(n={},Object(u.a)(n,w.Up,[[0,0,1],[0,3,2],[0,4,0]]),Object(u.a)(n,w.Right,[[0,0,0],[4,3,0],[0,2,1]]),Object(u.a)(n,w.Bottom,[[0,4,0],[2,3,0],[1,0,0]]),Object(u.a)(n,w.Left,[[1,2,0],[0,3,4],[0,0,0]]),n),r}return Object(j.a)(e,t),e}(k),R=function(t){function e(){var t,n,r;Object(v.a)(this,e);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(r=Object(g.a)(this,(t=Object(x.a)(e)).call.apply(t,[this].concat(i)))).type=m.ShapeLine,r.rotationShapes=(n={},Object(u.a)(n,w.Up,[[0,0,1,0],[0,0,2,0],[0,0,3,0],[0,0,4,0]]),Object(u.a)(n,w.Right,[[0,0,0,0],[0,0,0,0],[1,2,3,4],[0,0,0,0]]),Object(u.a)(n,w.Bottom,[[0,0,1,0],[0,0,2,0],[0,0,3,0],[0,0,4,0]]),Object(u.a)(n,w.Left,[[0,0,0,0],[0,0,0,0],[1,2,3,4],[0,0,0,0]]),n),r}return Object(j.a)(e,t),e}(k),T=function(t){function e(){var t,n,r;Object(v.a)(this,e);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(r=Object(g.a)(this,(t=Object(x.a)(e)).call.apply(t,[this].concat(i)))).type=m.ShapeRightL,r.rotationShapes=(n={},Object(u.a)(n,w.Up,[[0,4,0],[0,3,0],[0,2,1]]),Object(u.a)(n,w.Right,[[0,0,0],[2,3,4],[1,0,0]]),Object(u.a)(n,w.Bottom,[[1,2,0],[0,3,0],[0,4,0]]),Object(u.a)(n,w.Left,[[0,0,1],[4,3,2],[0,0,0]]),n),r}return Object(j.a)(e,t),e}(k),M=function(t){function e(){var t,n,r;Object(v.a)(this,e);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(r=Object(g.a)(this,(t=Object(x.a)(e)).call.apply(t,[this].concat(i)))).type=m.ShapeRightS,r.rotationShapes=(n={},Object(u.a)(n,w.Up,[[1,0,0],[2,3,0],[0,4,0]]),Object(u.a)(n,w.Right,[[0,2,1],[4,3,0],[0,0,0]]),Object(u.a)(n,w.Bottom,[[0,4,0],[0,3,2],[0,0,1]]),Object(u.a)(n,w.Left,[[0,0,0],[0,3,4],[1,2,0]]),n),r}return Object(j.a)(e,t),e}(k),L=function(t){function e(){var t,n,r;Object(v.a)(this,e);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(r=Object(g.a)(this,(t=Object(x.a)(e)).call.apply(t,[this].concat(i)))).type=m.ShapeSquare,r.rotationShapes=(n={},Object(u.a)(n,w.Up,[[1,2],[3,4]]),Object(u.a)(n,w.Right,[[3,1],[4,2]]),Object(u.a)(n,w.Bottom,[[4,3],[2,1]]),Object(u.a)(n,w.Left,[[2,4],[1,3]]),n),r}return Object(j.a)(e,t),e}(k),Q=function(t){function e(){var t,n,r;Object(v.a)(this,e);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(r=Object(g.a)(this,(t=Object(x.a)(e)).call.apply(t,[this].concat(i)))).type=m.ShapeT,r.rotationShapes=(n={},Object(u.a)(n,w.Up,[[0,1,0],[2,3,4],[0,0,0]]),Object(u.a)(n,w.Right,[[0,2,0],[0,3,1],[0,4,0]]),Object(u.a)(n,w.Bottom,[[0,0,0],[4,3,2],[0,1,0]]),Object(u.a)(n,w.Left,[[0,4,0],[1,3,0],[0,2,0]]),n),r}return Object(j.a)(e,t),e}(k),I=(n(48),n(2)),U=n(3);function G(){var t=Object(I.a)(["\n    display: flex;\n    border: 1px solid #000;\n"]);return G=function(){return t},t}function D(){var t=Object(I.a)(["\n    position: absolute;\n    display: block;\n    width: 30px;\n    margin: 1px;\n    opacity: 0.75;\n    filter: sepia(0.5);\n"]);return D=function(){return t},t}function W(){var t=Object(I.a)(["\n    font-family: monospace;\n    position: absolute;\n    right: 0;\n    margin-right: 3px;\n    top: 0;\n    line-height: 1rem;\n    font-size: 1rem;\n"]);return W=function(){return t},t}function F(){var t=Object(I.a)(["\n    font-weight: 700;\n    color: #f5f5f5;\n    font-size: 1.5rem;\n"]);return F=function(){return t},t}function z(){var t=Object(I.a)(["\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: rgba(0,0,0,0.75);\n"]);return z=function(){return t},t}function V(){var t=Object(I.a)(["\n    position: relative;\n"]);return V=function(){return t},t}function H(){var t=Object(I.a)(["\n    display: flex;\n"]);return H=function(){return t},t}var Z=U.a.div(H()),Y=U.a.div(V()),P=U.a.div(z()),J=U.a.div(F()),N=U.a.div(W()),X=U.a.img(D()),K=U.a.div(G()),q=n(51),_=function(t){var e,n=Object(r.useState)(null),i=Object(c.a)(n,2),o=i[0],d=i[1],v=Object(r.useState)({score:0,paused:!0,ended:!1}),g=Object(c.a)(v,2),x=g[0],j=g[1],O=Object(r.useRef)([]),y=Object(r.useState)(null),m=Object(c.a)(y,2),w=m[0],S=m[1],k=Object(r.useRef)([]),I=Object(r.useState)({available:!0,count:0}),U=Object(c.a)(I,2),G=U[0],D=U[1],W=Object(r.useRef)(null),F=Object(r.useState)(null),z=Object(c.a)(F,2),V=z[0],H=z[1],_=Object(r.useState)(!0),$=Object(c.a)(_,2),tt=$[0],et=$[1],nt=Object(r.useState)(null),rt=Object(c.a)(nt,2),at=rt[0],it=rt[1],ot=function(t){var e=t.nested.x()/t.widthT,n=t.nested.y()/t.heightT;return t.nested.children().map((function(r){var a=r,i=(a.x()-t.offset)/t.widthT,o=(a.y()-t.offset)/t.heightT;return{x:i+e,y:o+n,pixel:a}}))},ct=Object(r.useCallback)((function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=!1,i=ot(e),o=!0,c=!1,l=void 0;try{for(var u,h=i[Symbol.iterator]();!(o=(u=h.next()).done);o=!0){var s,d,A,p=u.value;("down"===n&&(null===(s=O.current[p.y+1])||void 0===s?void 0:s[p.x])||"left"===n&&(null===(d=O.current[p.y])||void 0===d?void 0:d[p.x-1])||"right"===n&&(null===(A=O.current[p.y])||void 0===A?void 0:A[p.x+1]))&&(a=!0)}}catch(b){c=!0,l=b}finally{try{o||null==h.return||h.return()}finally{if(c)throw l}}var f=lt(t,e)-r;return"down"===n?a||f<=0:a}),[O]),lt=function(t,e){return t.height()-(e.nested.y()+e.strokeWidth+e.realStartHeight)},ut=Object(r.useCallback)((function(t){if(t.nested.x()<-t.widthStartGap*t.widthT)t.nested.x(t.widthStartGap*t.widthT);else if(t.nested.x()+t.realStartWidth>E.canvas.width)t.nested.x(E.canvas.width-t.realStartWidth-t.strokeWidth);else{var e=t.nested.y();t.nested.y(t.nested.y()-t.heightT),w&&!ct(w,t,"down")&&t.nested.y(e)}}),[w,ct]);Object(r.useEffect)((function(){!function(){if(o&&!w){var t=Object(s.a)().size(E.container.width,E.container.height),e=t.rect(E.canvas.width,E.canvas.height).fill(E.canvas.backgroundColor),n=t.pattern(E.pixel.widthT,E.pixel.heightT,(function(t){t.rect(E.pixel.widthT,E.pixel.heightT).fill(E.canvas.patternBG),t.rect(E.pixel.width,E.pixel.height).x(E.pixel.offset).y(E.pixel.offset).fill(E.canvas.patternInnerBG).stroke({color:E.canvas.patternStroke,width:E.canvas.patternWidth})}));e.fill(n),t.addTo(o),S(t)}}()}),[o,w]),Object(r.useEffect)((function(){if(!x.paused&&!x.ended&&w&&G.available){var t;D(Object(h.a)({},G,{available:!1}));var e=null,n=null,r=k.current.find((function(t){return t.active}));if(r){var a=ot(r.shape);if(ct(w,r.shape,"down")){var i;if(a.some((function(t){return t.y<0})))return null===(i=W.current)||void 0===i||i.pause(),void j(Object(h.a)({},x,{paused:!1,ended:!0}));n=Object(p.a)(O.current);var o=!0,c=!1,s=void 0;try{for(var d,f=a[Symbol.iterator]();!(o=(d=f.next()).done);o=!0){var v=d.value;n[v.y]||(n[v.y]=[]),n[v.y][v.x]=v.pixel}}catch(X){c=!0,s=X}finally{try{o||null==f.return||f.return()}finally{if(c)throw s}}var g=k.current.indexOf(r);e=A()(k.current,Object(u.a)({},g,{active:{$set:!1}})),r=void 0}}if(!r)r={active:!0,shape:function(t){var e,n=[C,B,R,T,M,L,Q],r=n[b(0,n.length-1)];if(null===at){e=function(t,e){return new e(t).build()}(t,r);var a=n[b(0,n.length-1)];it(new a(t))}else e=at.build(),it(new r(t));var i=b(-e.widthStartGap*e.widthT,E.canvas.width-e.realStartWidth-e.strokeWidth),o=i-i%e.widthT,c=-Math.floor(e.rotationShapes[e.rotation].length-e.heightStartGap)*e.heightT-e.heightStartGap*e.heightT;return e.nested.x(o).y(c),e}(w)},e=[].concat(e?Object(l.a)(e):Object(l.a)(k.current),[r]);r.shape.nested.y(r.shape.nested.y()+E.pixel.heightT),ut(r.shape);var y=null===(t=n)||void 0===t?void 0:t.reduce((function(t,e,n){return e&&e.filter((function(t){return!!t})).length===E.canvas.gridWidth&&t.push(n),t}),[]).reverse();if(y){var m=0,S=!0,I=!1,U=void 0;try{for(var F,z=y[Symbol.iterator]();!(S=(F=z.next()).done);S=!0){var V=F.value;V+=m;for(var H=0;H<E.canvas.gridWidth;H++){var Z,Y;(null===(Z=n)||void 0===Z?void 0:null===(Y=Z[V])||void 0===Y?void 0:Y[H])&&(n[V][H].remove(),n[V][H]=void 0)}for(var P=V-1;P>=0;P--){var J;(null===(J=n)||void 0===J?void 0:J[P])&&(n[P].forEach((function(t){t&&t.y(t.y()+E.pixel.heightT)})),n[P+1]=n[P],n[P]=void 0)}m++}}catch(X){I=!0,U=X}finally{try{S||null==z.return||z.return()}finally{if(I)throw U}}y.length>0&&j(Object(h.a)({},x,{score:x.score+100*Math.round(Math.pow(y.length,1.75))}))}e&&(k.current=e),n&&(O.current=n);var N=800-.08*x.score;N=N<200?200:N,setTimeout((function(){return D({available:!0,count:G.count+1})}),N)}}),[G,x,w,ut,ct,W,at]);var ht=function(t){var e=k.current.find((function(t){return t.active}));!e||x.paused||x.ended||t(e.shape)},st=function(){ht((function(t){t.rotate(),ut(t)}))},dt=function(){ht((function(t){var e=t.nested.y(),n=t.heightT;w&&!ct(w,t,"down")&&t.nested.y(e+n),ut(t)}))},At=function(){ht((function(t){var e=t.nested.x()-t.widthT;e>=-t.widthStartGap*t.widthT&&w&&!ct(w,t,"left")&&t.nested.x(e),ut(t)}))},pt=function(){ht((function(t){var e=t.nested.x()+t.widthT;e+t.realStartWidth<=E.canvas.width&&w&&!ct(w,t,"right")&&t.nested.x(e),ut(t)}))},bt=function(){var t,e;x.paused&&tt?null===(t=W.current)||void 0===t||t.play():null===(e=W.current)||void 0===e||e.pause(),x.ended?(null===w||void 0===w||w.remove(),S(null),O.current=[],k.current=[],it(null),H(null),j({score:0,paused:!1,ended:!1}),D({available:!0,count:0}),W.current&&(W.current.currentTime=0,W.current.play())):j(Object(h.a)({},x,{paused:!x.paused}))},vt=(e={},Object(u.a)(e,ft.Up,st),Object(u.a)(e,ft.Down,dt),Object(u.a)(e,ft.Left,At),Object(u.a)(e,ft.Right,pt),Object(u.a)(e,ft.Start,bt),Object(u.a)(e,ft.Select,(function(){var t,e;tt?null===(t=W.current)||void 0===t||t.pause():x.paused||null===(e=W.current)||void 0===e||e.play(),et(!tt)})),e);if(t.control&&t.control!==V){H(t.control);var gt=vt[t.control.control];gt&&gt()}var xt={MOVE_UP:function(t){return st()},MOVE_DOWN:function(t){return dt()},MOVE_LEFT:function(t){return At()},MOVE_RIGHT:function(t){return pt()},SPACE:function(t){return bt()}};return a.a.createElement(f.GlobalHotKeys,{allowChanges:!0,keyMap:{MOVE_UP:"up",MOVE_DOWN:"down",MOVE_LEFT:"left",MOVE_RIGHT:"right",SPACE:"space"},handlers:xt},a.a.createElement("audio",{ref:function(t){return W.current=t},src:q,loop:!0}),a.a.createElement(Z,null,a.a.createElement(Y,null,at?a.a.createElement(X,{src:"shapes/".concat(at.type,".png"),alt:at.type}):a.a.createElement(a.a.Fragment,null),at?a.a.createElement(N,null,x.score):a.a.createElement(a.a.Fragment,null),x.ended?a.a.createElement(P,null,a.a.createElement(J,null,"GAME OVER")):a.a.createElement(a.a.Fragment,null),a.a.createElement(K,{ref:function(t){return d(t)}}))))};function $(){var t=Object(I.a)(["\n    background: #353535;\n    width: 40px;\n    height: 10px;\n    border: 1px solid black;\n    cursor: pointer;\n    margin-bottom: 5px;\n    border-radius: 5px;\n"]);return $=function(){return t},t}function tt(){var t=Object(I.a)(["\n    display: flex;\n    justify-content: space-between;\n    width: 100px;\n    padding-top: 45px;\n"]);return tt=function(){return t},t}function et(){var t=Object(I.a)(["\n    background: #981F55;\n    width: 40px;\n    height: 40px;\n    border-radius: 20px;\n    border: 1px solid black;\n    cursor: pointer;\n    margin-bottom: 5px;\n"]);return et=function(){return t},t}function nt(){var t=Object(I.a)(["\n    display: flex;\n    flex-direction: row-reverse;\n    width: 50px;\n    flex-basis: 50%;\n    padding-right: 10px;\n"]);return nt=function(){return t},t}function rt(){var t=Object(I.a)(["\n    display: inline-block;\n    background: black;\n    width: 45px;\n    height: 45px;\n    cursor: pointer;\n"]);return rt=function(){return t},t}function at(){var t=Object(I.a)(["\n    display: inline-block;\n    background: #0a0a0a;\n    width: 45px;\n    height: 45px;\n"]);return at=function(){return t},t}function it(){var t=Object(I.a)(["\n    font-size: 0;\n    padding: 35px 0 55px;\n"]);return it=function(){return t},t}function ot(){var t=Object(I.a)(["\n    display: inline-block;\n    background: black;\n    width: 25px;\n    height: 25px;\n    cursor: pointer;\n"]);return ot=function(){return t},t}function ct(){var t=Object(I.a)(["\n    display: inline-block;\n    background: #0a0a0a;\n    width: 25px;\n    height: 25px;\n"]);return ct=function(){return t},t}function lt(){var t=Object(I.a)(["\n    font-size: 0;\n    flex-basis: 50%;\n    padding: 60px 0 0 10px;\n"]);return lt=function(){return t},t}function ut(){var t=Object(I.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    width: 100%;\n    margin-bottom: 50px;\n"]);return ut=function(){return t},t}function ht(){var t=Object(I.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    transform: rotate(-20deg);\n"]);return ht=function(){return t},t}function st(){var t=Object(I.a)(["\n    font-weight: 700;\n    color: #414187;\n    font-size: 0.8rem;\n"]);return st=function(){return t},t}function dt(){var t=Object(I.a)(["\n    border: 1px solid black;\n"]);return dt=function(){return t},t}function At(){var t=Object(I.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 25px 50px;\n    background: #908D90;\n    border-radius: 10px 10px 50px 10px;\n    border: 1px solid black;\n"]);return At=function(){return t},t}function pt(){var t=Object(I.a)(["\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding: 30px;\n    border-radius: 10px;\n    background: #C4BEBB;\n    border: 1px solid black;\n"]);return pt=function(){return t},t}var ft,bt=U.a.div(pt()),vt=U.a.div(At()),gt=U.a.div(dt()),xt=U.a.div(st()),jt=U.a.div(ht()),Ot=U.a.div(ut()),yt=U.a.div(lt()),mt=U.a.div(ct()),wt=U.a.div(ot()),Et=U.a.div(it()),St=U.a.div(at()),kt=U.a.div(rt()),Ct=U.a.div(nt()),Bt=U.a.div(et()),Rt=U.a.div(tt()),Tt=U.a.div($());!function(t){t[t.Up=0]="Up",t[t.Down=1]="Down",t[t.Left=2]="Left",t[t.Right=3]="Right",t[t.A=4]="A",t[t.B=5]="B",t[t.Select=6]="Select",t[t.Start=7]="Start"}(ft||(ft={}));var Mt=function(){var t=Object(r.useState)(null),e=Object(c.a)(t,2),n=e[0],i=e[1];return a.a.createElement(bt,null,a.a.createElement(vt,null,a.a.createElement(gt,null,a.a.createElement(_,{control:n}))),a.a.createElement(Ot,null,a.a.createElement(yt,null,a.a.createElement(wt,{onClick:function(){return i({control:ft.Up})},style:{display:"block",marginLeft:"25px",borderRadius:"3px 3px 0 0"}}),a.a.createElement(wt,{onClick:function(){return i({control:ft.Left})},style:{borderRadius:"3px 0 0 3px"}}),a.a.createElement(mt,null),a.a.createElement(wt,{onClick:function(){return i({control:ft.Right})},style:{borderRadius:"0 3px 3px 0"}}),a.a.createElement(wt,{onClick:function(){return i({control:ft.Down})},style:{display:"block",marginLeft:"25px",borderRadius:"0 0 3px 3px"}})),a.a.createElement(Ct,null,a.a.createElement(jt,{style:{paddingTop:"65px"}},a.a.createElement(Bt,{onClick:function(){return i({control:ft.A})}}),a.a.createElement(xt,null,"A")),a.a.createElement(jt,{style:{paddingTop:"85px",paddingRight:"15px"}},a.a.createElement(Bt,{onClick:function(){return i({control:ft.B})}}),a.a.createElement(xt,null,"B"))),a.a.createElement(Rt,null,a.a.createElement(jt,null,a.a.createElement(Tt,{onClick:function(){return i({control:ft.Select})}}),a.a.createElement(xt,null,"SELECT")),a.a.createElement(jt,null,a.a.createElement(Tt,{onClick:function(){return i({control:ft.Start})}}),a.a.createElement(xt,null,"START")))))},Lt=n(36),Qt=(n(52),function(t){var e=t.bg,n=t.hoverBg,i=t.children,o=t.style,l=t.onMouseEnter,u=t.onMouseLeave,s=Object(Lt.a)(t,["bg","hoverBg","children","style","onMouseEnter","onMouseLeave"]),d=Object(r.useState)(!1),A=Object(c.a)(d,2),p=A[0],f=A[1],b=s.disabled?"#ddd":p&&n?n:e||"white";return a.a.createElement("button",Object.assign({},s,{style:Object(h.a)({},o,{backgroundColor:b,cursor:s.disabled?"default":"pointer"}),onMouseEnter:function(t){f(!0),null===l||void 0===l||l(t)},onMouseLeave:function(t){f(!1),null===u||void 0===u||u(t)}}),i)}),It=n(31),Ut=n.n(It),Gt=function(t){return a.a.createElement(Qt,{onClick:t.onClick,bg:"transparent",style:{padding:0,borderRadius:"3px",position:"absolute",right:0,bottom:0}},a.a.createElement("img",{src:Ut.a,alt:"FullScreen",style:{display:"block",width:"25px",margin:"5px"}}))},Dt=n(32),Wt=n.n(Dt),Ft=n(33),zt=n.n(Ft);function Vt(){var t=Object(I.a)(["\n    background: white;\n    padding: 20px 20px 10px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]);return Vt=function(){return t},t}var Ht=U.a.div(Vt()),Zt=function(){var t=Object(r.useState)(null),e=Object(c.a)(t,2),n=e[0],i=e[1];return a.a.createElement(Ht,null,a.a.createElement(_,{control:n}),a.a.createElement(Et,null,a.a.createElement(kt,{onClick:function(){return i({control:ft.Up})},style:{display:"block",marginLeft:"45px",borderRadius:"3px 3px 0 0"}}),a.a.createElement(kt,{onClick:function(){return i({control:ft.Left})},style:{borderRadius:"3px 0 0 3px"}}),a.a.createElement(St,null),a.a.createElement(kt,{onClick:function(){return i({control:ft.Right})},style:{borderRadius:"0 3px 3px 0"}}),a.a.createElement(kt,{onClick:function(){return i({control:ft.Down})},style:{display:"block",marginLeft:"45px",borderRadius:"0 0 3px 3px"}})),a.a.createElement(Qt,{onClick:function(){return i({control:ft.Start})},style:{position:"absolute",bottom:0,left:"0",margin:"1px"}},a.a.createElement("img",{src:Wt.a,alt:"Start",style:{display:"block",width:"25px"}})),a.a.createElement(Qt,{onClick:function(){return i({control:ft.Select})},style:{position:"absolute",bottom:0,left:"33px",margin:"1px"}},a.a.createElement("img",{src:zt.a,alt:"Mute",style:{display:"block",width:"25px"}})))},Yt=function(){var t=Object(r.useState)(!1),e=Object(c.a)(t,2),n=e[0],i=e[1];return a.a.createElement("div",{style:{position:"relative"}},n?a.a.createElement(Zt,null):a.a.createElement(Mt,null),a.a.createElement(Gt,{onClick:function(){return i(!n)}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object(f.configure)({ignoreRepeatedEventsWhenKeyHeldDown:!1}),o.a.render(a.a.createElement(Yt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[37,1,2]]]);
//# sourceMappingURL=main.71623377.chunk.js.map